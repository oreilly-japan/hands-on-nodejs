// 10ç« ã«ç™»å ´ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

/** SHELL **/
$ npm init 
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See `npm help json` for definitive documentation on these fields
and exactly what they do.

Use `npm install <pkg>` afterwards to install a package and
save it as a dependency in the package.json file.

Press ^C at any time to quit.
package name: (npm-package) # Enterã‚­ãƒ¼ 
version: (1.0.0) # Enterã‚­ãƒ¼ 
description: # Enterã‚­ãƒ¼ 
entry point: (index.js) # Enterã‚­ãƒ¼ 
test command: # Enterã‚­ãƒ¼ 
git repository: # Enterã‚­ãƒ¼ 
keywords: # Enterã‚­ãƒ¼ 
author: # Enterã‚­ãƒ¼ 
license: (ISC) # Enterã‚­ãƒ¼ 
About to write to /path/to/npm-package/package.json:

{
  "name": "npm-package",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC"
}


Is this OK? (yes) # Enterã‚­ãƒ¼ 


/** SHELL **/
$ npm version 1.1.0 
v1.1.0
$ npm version patch 
v1.1.1


/** SHELL **/
$ git init  # Gitãƒªãƒã‚¸ãƒˆãƒªã®åˆæœŸåŒ–
Initialized empty Git repository in /path/to/npm-package/.git/
$ npm version minor -m "%sã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—" 
v1.2.0
$ git log -1 --oneline  # Gitã®ã‚³ãƒŸãƒƒãƒˆã¨ã‚¿ã‚°ã®ç¢ºèª
e05bdc6 (HEAD -> master, tag: v1.2.0) 1.2.0ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—


/** SHELL **/
$ git tag v1.3.0 -m '1.3.0' 
$ npm version from-git 
v1.3.0


/** SHELL **/
$ npm version premajor 
v2.0.0-0
$ npm version prerelease 
v2.0.0-1 # ãƒ—ãƒ¬ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ•°å­—ãŒæ›´æ–°ã•ã‚Œã‚‹


/** SHELL **/
$ npm version premajor --preid=alpha 
v3.0.0-alpha.0
$ npm version prerelease 
v3.0.0-alpha.1


/** SHELL **/
$ npm version patch 
v3.0.0


/** npm-package/index.js **/
'use strict'
module.exports = 'Hello from my package'


/** REPL **/
> require('./npm-package') 
'Hello from my package'


/** json **/
{
  "author": {
    "name" : "Barney Rubble",
    "email" : "b@rubble.com",
    "url" : "http://barnyrubble.tumblr.com/"
  }
}


/** json **/
{
  "author": "Barney Rubble <b@rubble.com> (http://barnyrubble.tumblr.com/)"
}


/** json **/
{
  "license": "UNLICENSED",
  "private": true
}


/** SHELL **/
$ npm install rimraf 


/** REPL **/
> require('rimraf') 
[Function: rimraf] { sync: [Function: rimrafSync] }


/** json **/
{
  // ...
  "dependencies": {
    "rimraf": "^2.6.3"
  },
  // ...
}


/** json **/
{
  "dependencies": {
    "a" : ">1.0.2 <=2.3.4"
  }
}


/** json **/
{
  "dependencies": {
    "b": "1.1", // >=1.1.0 <1.2.0
    "c": "1", // >=1.0.0 <2.0.0
    "d": "" // >=0.0.0ï¼ˆã‚ã‚‰ã‚†ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
  }
}


/** json **/
{
  "dependencies": {
    "e": "~1.2.3", // >=1.2.3 <1.3.0
    "f": "~0.2.3" // >=0.2.3 <0.3.0
  }
}


/** rimrafãƒãƒ¼ã‚¸ãƒ§ãƒ³2.6.3ã®package.jsonã®dependencies **/
{
  // ...
  "dependencies": {
    "glob": "^7.1.3"
  },
  // ...
}


/** SHELL **/
$ npm ls --all 
npm-package@3.0.0 /path/to/npm-package
â””â”€â”¬ rimraf@2.6.3
ã€€ã€€â””â”€â”¬ glob@7.1.3
ã€€ã€€ã€€ã€€â”œâ”€â”€ fs.realpath@1.0.0
ã€€ã€€ã€€ã€€â”œâ”€â”¬ inflight@1.0.6
ã€€ã€€ã€€ã€€â”‚ã€€â”œâ”€â”€ once@1.4.0 deduped
ã€€ã€€ã€€ã€€â”‚ã€€â””â”€â”€ wrappy@1.0.2
ã€€ã€€ã€€ã€€â”œâ”€â”€ inherits@2.0.3
ã€€ã€€ã€€ã€€â”œâ”€â”¬ minimatch@3.0.4
ã€€ã€€ã€€ã€€â”‚ã€€â””â”€â”¬ brace-expansion@1.1.11
ã€€ã€€ã€€ã€€â”‚ã€€ã€€ã€€â”œâ”€â”€ balanced-match@1.0.0
ã€€ã€€ã€€ã€€â”‚ã€€ã€€ã€€â””â”€â”€ concat-map@0.0.1
ã€€ã€€ã€€ã€€â”œâ”€â”¬ once@1.4.0
ã€€ã€€ã€€ã€€â”‚ã€€â””â”€â”€ wrappy@1.0.2 deduped
ã€€ã€€ã€€ã€€â””â”€â”€ path-is-absolute@1.0.1


/** SHELL **/
$ npm install inherits@^1.0.0 


/** SHELL **/
$ npm ls --all 
npm-package@3.0.0 /path/to/npm-package
â”œâ”€â”€ inherits@1.0.2
â””â”€â”¬ rimraf@2.6.3
ã€€ã€€â””â”€â”¬ glob@7.1.3
ã€€ã€€ã€€ã€€â”œâ”€â”€ fs.realpath@1.0.0
ã€€ã€€ã€€ã€€â”œâ”€â”¬ inflight@1.0.6
ã€€ã€€ã€€ã€€â”‚ã€€â”œâ”€â”€ once@1.4.0 deduped
ã€€ã€€ã€€ã€€â”‚ã€€â””â”€â”€ wrappy@1.0.2
ã€€ã€€ã€€ã€€â”œâ”€â”€ inherits@2.0.3
ã€€ã€€ã€€ã€€â”œâ”€â”¬ minimatch@3.0.4
ã€€ã€€ã€€ã€€â”‚ã€€â””â”€â”¬ brace-expansion@1.1.11
ã€€ã€€ã€€ã€€â”‚ã€€ã€€ã€€â”œâ”€â”€ balanced-match@1.0.0
ã€€ã€€ã€€ã€€â”‚ã€€ã€€ã€€â””â”€â”€ concat-map@0.0.1
ã€€ã€€ã€€ã€€â”œâ”€â”¬ once@1.4.0
ã€€ã€€ã€€ã€€â”‚ã€€â””â”€â”€ wrappy@1.0.2 deduped
ã€€ã€€ã€€ã€€â””â”€â”€ path-is-absolute@1.0.1


/** json **/
{
  // ...
  "rimraf": {
    "version": "2.6.3",
    "resolved": "https://registry.npmjs.org/rimraf/-/rimraf-2.6.3.tgz",
    "integrity": "sha512-mwqeW5XsA2qAejG46gYdENaxXjx9onRNCfn7L0duuP4hCuTIi/QO7P
DK07KJfp1d+izWPrzEJDcSqBa0OZQriA==",
    "requires": {
      "glob": "^7.1.3"
    }
  },
  // ...
}


/** rimrafãƒãƒ¼ã‚¸ãƒ§ãƒ³2.6.3ã®package.jsonã®devDependencies **/
{
  // ...
  "devDependencies": {
    "mkdirp": "^0.5.1",
    "tap": "^12.1.1"
  },
  // ...
}


/** SHELL **/
$ npm install --save-dev mkdirp 


/** plugin-aã®package.json **/
{
  "name": "plugin-a",
  "dependencies": {
    "lib1": "^1.0.0"
  }
}


/** plugin-bã®package.json **/
{
  "name": "plugin-b",
  "dependencies": {
    "lib1": "^2.0.0"
  }
}


/** --- **/
node_modules
â”œâ”€â”€ lib1@2.0.0
â”œâ”€â”¬ plugin-a
â”‚ã€€â””â”€â”€ lib1@1.0.0
â””â”€â”€ plugin-b


/** --- **/
node_modules
â”œâ”€â”€ plugin-a
â””â”€â”€ plugin-b


/** json **/
{
  "bundledDependencies": [
    "rimraf"
  ]
}


/** SHELL **/
$ npm test 

> npm-package@3.0.0 test /path/to/npm-package
> echo "Error: no test specified" && exit 1

Error: no test specified
# ... ï¼ˆçœç•¥ï¼‰


/** json **/
{
  "scripts": {
    "create-dir": "mkdirp foo/bar",
    "remove-dir": "rimraf foo"
  }
}


/** SHELL **/
$ npm run create-dir 

> npm-package@3.0.0 create-dir /path/to/npm-package
> mkdirp foo/bar

# npm-package/foo/barãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã‚‹
$ npm run remove-dir 

> npm-package@3.0.0 remove-dir /path/to/npm-package
> rimraf foo

# npm-package/fooãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå‰Šé™¤ã•ã‚Œã‚‹


/** SHELL **/
$ npm run create-dir -- baz 

> npm-package@3.0.0 create-dir /path/to/npm-package
> mkdirp foo/bar "baz"

# npm-package/foo/barãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨npm-package/bazãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã‚‹


/** json **/
{
  "scripts": {
    "precreate-dir": "echo \"ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™\"",
    "create-dir": "mkdirp foo/bar",
    "postcreate-dir": "echo \"ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã—ãŸ\"",
    "remove-dir": "rimraf foo"
  }
}


/** SHELL **/
$ npm run create-dir 

> npm-package@3.0.0 precreate-dir /path/to/npm-package
> echo "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™"

ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™

> npm-package@3.0.0 create-dir /path/to/npm-package
> mkdirp foo/bar

> npm-package@3.0.0 postcreate-dir /path/to/npm-package
> echo "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã—ãŸ"

ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã—ãŸ


/** json **/
{
  "scripts": {
    "prepublishOnly": "npm test"
  }
}


/** json **/
{
  // ...
  "scripts": {
    // ...
    "prepare: ""echo \"prepareã‚’å®Ÿè¡Œã—ã¾ã—ãŸ\""
  },
  // ...
}


/** SHELL **/
$ npm install 

> npm-package@3.0.0 prepare /path/to/npm-package
> echo "prepareã‚’å®Ÿè¡Œã—ã¾ã—ãŸ"

prepareã‚’å®Ÿè¡Œã—ã¾ã—ãŸ
# ... ï¼ˆçœç•¥ï¼‰


/** SHELL **/
$ npm run prepare 

> npm-package@3.0.0 prepare /path/to/npm-package
> echo "prepareã‚’å®Ÿè¡Œã—ã¾ã—ãŸ"

prepareã‚’å®Ÿè¡Œã—ã¾ã—ãŸ


/** rimrafãƒãƒ¼ã‚¸ãƒ§ãƒ³2.6.3ã®package.jsonã®bin **/
{
  // ...
  "bin": {
    "rimraf": "./bin.js"
  },
  // ...
}


/** json **/
{
  "bin": "./bin.js"
}


/** npm-package/greeting.js **/
#!/usr/bin/env node
'use strict'

// process.argvã®ç¢ºèª
console.log('******************** DEBUG ********************')
console.log(process.argv)
console.log('******************** DEBUG ********************')

// process.argvã¯Node.jsè‡ªä½“ã®å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ‘ã‚¹ã¨
// greetingã¸ã®ãƒ‘ã‚¹ã§å§‹ã¾ã‚‹ãŸã‚ã€3ç•ªç›®ä»¥é™ã®æ–‡å­—åˆ—ã‚’å–ã‚Šå‡ºã—ã¦å‡¦ç†
process.argv.slice(2).forEach(name => console.log(`Hello ${name}!`))


/** json **/
{
  // ...
  "bin": {
    "greeting": "./greeting.js"
  },
  // ...
}


/** SHELL **/
# another-packageã‚’npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦åˆæœŸåŒ–
$ npm init -y 
# ... ï¼ˆçœç•¥ï¼‰
# npm-packageã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
$ npm install ../npm-package 
# ... ï¼ˆçœç•¥ï¼‰


/** json **/
{
  // ...
  "scripts": {
    "greeting": "greeting"
  },
  // ...
}


/** SHELL **/
$ npm run greeting å¤ªéƒ æ¬¡éƒ 

> another-package@1.0.0 greeting /path/to/another-package
> greeting "å¤ªéƒ" "æ¬¡éƒ"

******************** DEBUG ********************
[ '/path/to/bin/node',
  '/path/to/another-package/node_modules/.bin/greeting',
  'å¤ªéƒ',
  'æ¬¡éƒ' ]
******************** DEBUG ********************
Hello å¤ªéƒ!
Hello æ¬¡éƒ!


/** SHELL **/
$ npx greeting å¤ªéƒ æ¬¡éƒ 
******************** DEBUG ********************
[ '/path/to/bin/node',
  '/path/to/another-package/node_modules/.bin/greeting',
  'å¤ªéƒ',
  'æ¬¡éƒ' ]
******************** DEBUG ********************
Hello å¤ªéƒ!
Hello æ¬¡éƒ!


/** json **/
{
  "repository": {
    "type" : "git",
    "url" : "https://github.com/npm/cli.git"
  }
}


/** json **/
{
  "repository": {
    "type" : "git",
    "url" : "https://github.com/facebook/react.git",
    "directory": "packages/react-dom"
  }
}


/** json **/
{
  "engines": {
    "node" : ">=10",
    "npm" : "^6.0.0"
  }
}


/** SHELL **/
# engine-strictã‚’trueã«è¨­å®š
$ npm config set engine-strict true 


/** SHELL **/
# key=valueã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼å˜ä½ã®npmrcãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€
$ npm config set key value 
# key=trueã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼å˜ä½ã®npmrcãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€
$ npm config set key 
# keyã®è¨­å®šã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼å˜ä½ã®npmrcãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‰Šé™¤ã™ã‚‹
$ npm config delete key 
# ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªnpmrcãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®è¨­å®šã¯--globalã¾ãŸã¯-gã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹
$ npm config set key value --global 


/** pkg-a@1.0.0ã®package.json **/
{
  "name": "pkg-a",
  "version": "1.0.0",
  "engines": {
    // Node.js v10ä»¥ä¸Šã‚’ã‚µãƒãƒ¼ãƒˆ
    "node": ">=10"
  }
}


/** pkg-a@2.0.0ã®package.json **/
{
  "name": "pkg-a",
  "version": "2.0.0",
  "engines": {
    // Node.js v12ä»¥ä¸Šã‚’ã‚µãƒãƒ¼ãƒˆ
    "node": ">=12"
  }
}


/** pkg-bã®package.json **/
{
  "name": "pkg-b",
  "engines": {
    // Node.js v10ä»¥ä¸Šã‚’ã‚µãƒãƒ¼ãƒˆ
    "node": ">=10"
  },
  "dependenices": {
    // dependenicesã§ã¯Node.js v10ã‚’ã‚µãƒãƒ¼ãƒˆå¯èƒ½ãªpkg-aã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®š
    "pkg-a": "^1.0.0"
  },
  "acceptDependencies": {
    // pkg-a@2.0.0ã‚’åˆ©ç”¨å¯èƒ½ãªç’°å¢ƒãªã‚‰pkg-bã‚‚ãã‚Œã‚’ä½¿ãˆã‚‹ã“ã¨ã‚’ã€
    // acceptDependenciesã§è¡¨ç¾
    "pkg-a": "^2.0.0"
  }
}


/** --- **/
my-package /path/to/my-package
â”œâ”€â”€ pkg-a@2.0.0
â””â”€â”¬ pkg-b
ã€€ã€€â””â”€â”€ pkg-a@1.0.0 # ç•°ãªã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®pkg-aãŒé‡è¤‡ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã—ã¾ã†


/** --- **/
my-package /path/to/my-package
â”œâ”€â”€ pkg-a@2.0.0
â””â”€â”¬ pkg-b
ã€€ã€€â””â”€â”€ pkg-a@2.0.0 deduped


/** --- **/
pkg/
  package.json # "main": "index.js"
  index.js # require('pkg')ã§ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹
  sub.js # require('pkg/sub')ã§ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹


/** json **/
{
  "main": "index.js",
  "exports": {
    ".": "./index.js" // mainãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æŒ‡å®š
  }
  // ã¾ãŸã¯ã€æ¬¡ã®ã‚ˆã†ã«çŸ­ç¸®å¯èƒ½
  // "exports": "./index.js"
}


/** json **/
{
  "main": "index.js",
  "exports": {
    ".": "./index.js",      // mainãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æŒ‡å®š
    "./sub": "./lib/sub.js" // ãã‚Œä»¥å¤–ã«å…¬é–‹ã—ãŸã„ãƒ¢ã‚¸ãƒ¼ãƒ«ã‚’è¿½åŠ 
  }
}


/** json **/
{
  "main": "index.js",
  "exports": {
    ".": "./index.js",
    // ã‚­ãƒ¼ã¨å€¤ã®æœ«å°¾ã«"/"ã‚’ã¤ã‘ã¦ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå˜ä½ã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å…¬é–‹ã™ã‚‹
    "./features/": "./src/features/"
  }
}


/** json **/
{
  // exportsæœªå¯¾å¿œã®ç’°å¢ƒã§ã¯./main.jsãŒã€
  // æœªå¯¾å¿œã®ç’°å¢ƒã§ã¯./index.jsãŒã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã«ãªã‚‹
  "main": "main.js",
  "exports": "./index.js"
}


/** json **/
{
  "jest": {
    "testMatch": ["**/test/jest/**/*.js"],
    "clearMocks": true,
    "restoreMocks": true
  }
}


/** .npmignoreã€.gitignoreã®æ›¸å¼@<fn>{ignore-file-format} **/
# æ‹¡å¼µå­ãŒ.aã®å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–
*.a

# ãŸã ã—ã€lib.aã¯é™¤å¤–ã—ãªã„
!lib.a

# ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å­˜åœ¨ã™ã‚‹TODOãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–ã™ã‚‹ãŒã€
# ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®TODOãƒ•ã‚¡ã‚¤ãƒ«ã¯ã—ãªã„
/TODO

# buildã¨ã„ã†åå‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å­˜åœ¨ã™ã‚‹ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–
build/

# docãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã®.txtãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–ã™ã‚‹ãŒã€
# ãã®ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®.txtãƒ•ã‚¡ã‚¤ãƒ«ã¯é™¤å¤–ã—ãªã„
doc/*.txt

# ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­ã«ã‚ã‚‹ã‚‚ã®ã‚‚å«ã‚ã€
# docãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­ã«ã‚ã‚‹ã™ã¹ã¦ã®.pdfãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–
doc/**/*.pdf


/** json **/
{
  "files": [
    "foo.js",
    "bar",
    "baz/**/*.txt"
  ]
}


/** SHELL **/
$ npx cowsay ã“ã‚“ã«ã¡ã¯ 
# npmã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒv7ã®å ´åˆã€åˆå›ã®npx cowsayå®Ÿè¡Œæ™‚ã«æ¬¡ã®ã‚ˆã†ã«
# cowsayã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯å¦ã‚’å•ã‚ã‚Œã‚‹ï¼ˆv6ã§ã¯ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ãªã„ï¼‰
Need to install the following packages:
  loadtest
Ok to proceed? (y) # ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼ã‚’æŠ¼ã™
 ____________
< ã“ã‚“ã«ã¡ã¯ >
 ------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


/** SHELL **/
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®greetingã‚’å®Ÿè¡Œã—ãŸã‹ã£ãŸãŒã€ã‚¿ã‚¤ãƒ—ãƒŸã‚¹ã«ã‚ˆã‚Š
# ç”±æ¥ä¸æ˜ã®greetngã‚’ï¼ˆãã‚ŒãŒnpmãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«ã‚ã‚Œã°ï¼‰å®Ÿè¡Œã—ã‚ˆã†ã¨ã™ã‚‹.
# ã“ã®ã¨ãã€v6ã§ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯å¦ã®ç¢ºèªã®ã‚¹ãƒ†ãƒƒãƒ—ãŒãªã„.
$ npx greetng 


/** SHELL **/
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯å¦ã®ç¢ºèªã‚’ã‚¹ã‚­ãƒƒãƒ—
$ npx --yes greeting 


/** SHELL **/
$ npm adduser 
Username: # ãƒ¦ãƒ¼ã‚¶ãƒ¼åã®å…¥åŠ›
Password: # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å…¥åŠ›
Email: (this IS public) # ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å…¥åŠ›


/** SHELL **/
$ npm init -y 
Wrote to /path/to/fizzbuzz/package.json:

{
  "name": "fizzbuzz",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC"
}


/** json **/
{
  // "name": "fizzbuzz",ã‚’æ›¸ãæ›ãˆ
  "name": "@kimamula/fizzbuzz",
  // ...
}


/** fizzbuzz/index.js **/
'use strict'
module.exports = function (num) {
  if (num % 3 === 0) {
    return 'Fizz'
  }
  if (num % 5 === 0) {
    return 'Buzz'
  }
  if (num % 15 === 0) {
    return 'FizzBuzz'
  }
  return String(num)
}


/** json **/
{
  // ...
  "bin": "bin.js",
  // ...
}


/** fizzbuzz/bin.js **/
#!/usr/bin/env node
'use strict'

const arg = process.argv[2]
const num = Number(arg)
// Number.isNaN()ã§æ•°å€¤ãŒæ¸¡ã•ã‚ŒãŸã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯
if (Number.isNaN(num)) {
  throw new Error(`${arg} is not a number`)
}
console.log(require('.')(num))


/** fizzbuzz/test.js **/
'use strict'
const { strictEqual } = require('assert')
const fizzbuzz = require('.')

strictEqual(fizzbuzz(1), '1')
strictEqual(fizzbuzz(2), '2')
strictEqual(fizzbuzz(3), 'Fizz')
strictEqual(fizzbuzz(4), '4')
strictEqual(fizzbuzz(5), 'Buzz')
strictEqual(fizzbuzz(6), 'Fizz')
strictEqual(fizzbuzz(7), '7')
strictEqual(fizzbuzz(8), '8')
strictEqual(fizzbuzz(9), 'Fizz')
strictEqual(fizzbuzz(10), 'Buzz')
strictEqual(fizzbuzz(11), '11')
strictEqual(fizzbuzz(12), 'Fizz')
strictEqual(fizzbuzz(13), '13')
strictEqual(fizzbuzz(14), '14')
strictEqual(fizzbuzz(15), 'FizzBuzz')
strictEqual(fizzbuzz(16), '16')


/** json **/
{
  // ...
  "scripts": {
    // "test": "echo \"Error: no test specified\" && exit 1"ã‚’æ›¸ãæ›ãˆ
    "test": "node test",
    "prepublishOnly": "npm test"
  },
  // ...
}


/** SHELL **/
$ npm test 

> @kimamula/fizzbuzz@1.0.0 test /path/to/fizzbuzz
> node test

assert.js:86
  throw new AssertionError(obj)
  ^

AssertionError [ERR_ASSERTION]: Expected values to be strictly equal:
+ actual - expected

+ 'Fizz'
- 'FizzBuzz'
       ^


/** fizzbuzz/README **/
# fizzbuzz

A JavaScript implementation of FizzBuzz.

## Installation

```sh
$ npm install @kimamula/fizzbuzz
```ã€€

## Usage

### In JavaScript code

```js
const fizzbuzz = require('@kimamula/fizzbuzz')

fizzbuzz(1) // '1'
fizzbuzz(2) // '2'
fizzbuzz(3) // 'Fizz'
fizzbuzz(5) // 'Buzz'
fizzbuzz(15) // 'FizzBuzz'
```ã€€

### From the command line

```sh
$ npx fizzbuzz 1
1
$ npx fizzbuzz 2
2
$ npx fizzbuzz 3
Fizz
$ npx fizzbuzz 5
Buzz
$ npx fizzbuzz 15
FizzBuzz
```ã€€


/** json **/
{
  // ...
  "author": "Kenji Imamula <kenji.imamula@gmail.com>",
  "license": "MIT"
}


/** fizzbuzz/LICENSE **/
Copyright (c) 2020 Kenji Imamula

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


/** fizzbuzz/.npmignore **/
test.js


/** ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹æ™‚ç‚¹ã§ã®fizzbuzz/package.json **/
{
  "name": "@kimamula/fizzbuzz",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "bin": "bin.js",
  "scripts": {
    "test": "node test",
    "prepublishOnly": "npm test"
  },
  "keywords": [],
  "author": "Kenji Imamula <kenji.imamula@gmail.com>",
  "license": "MIT"
}


/** SHELL **/
$ npm publish --access public 

> @kimamula/fizzbuzz@1.0.0 prepublishOnly .
> npm test


> @kimamula/fizzbuzz@1.0.0 test /path/to/fizzbuzz
> node test

assert.js:86
  throw new AssertionError(obj)
  ^

AssertionError [ERR_ASSERTION]: Expected values to be strictly equal:
+ actual - expected

+ 'Fizz'
- 'FizzBuzz'
       ^


/** fizzbuzz/index.js **/
'use strict'
module.exports = function (num) {
  // FizzBuzzã®åˆ¤å®šã‚’å…ˆé ­ã«ç§»å‹•ã™ã‚‹
  if (num % 15 === 0) {
    return 'FizzBuzz'
  }
  if (num % 3 === 0) {
    return 'Fizz'
  }
  if (num % 5 === 0) {
    return 'Buzz'
  }
  return String(num)
}


/** SHELL **/
$ npm test 

> @kimamula/fizzbuzz@1.0.0 test /path/to/fizzbuzz
> node test


/** SHELL **/
$ npm publish --access public 

> @kimamula/fizzbuzz@1.0.0 prepublishOnly .
> npm test


> @kimamula/fizzbuzz@1.0.0 test /path/to/fizzbuzz
> node test

npm notice
npm notice ğŸ“¦  @kimamula/fizzbuzz@1.0.0
npm notice === Tarball Contents ===
npm notice 289B  package.json
npm notice 178B  bin.js
npm notice 248B  index.js
npm notice 1.1kB LICENSE
npm notice 475B  README
npm notice === Tarball Details ===
npm notice name:          @kimamula/fizzbuzz
npm notice version:       1.0.0
npm notice package size:  1.5 kB
npm notice unpacked size: 2.2 kB
npm notice shasum:        c455a46b041856e0d23a9de1ae93a179d1f60640
npm notice integrity:     sha512-UBmKVh2uQjDa8[...]Wa0Lm4k8vVRMQ==
npm notice total files:   5
npm notice
+ @kimamula/fizzbuzz@1.0.0


/** SHELL **/
$ npm install @kimamula/fizzbuzz 
# ... ï¼ˆçœç•¥ï¼‰
+ @kimamula/fizzbuzz@1.0.0
$ npx fizzbuzz 1 
1
$ npx fizzbuzz 2 
2
$ npx fizzbuzz 3 
Fizz
$ npx fizzbuzz 5 
Buzz
$ npx fizzbuzz 15 
FizzBuzz


/** REPL **/
> const fizzbuzz = require('@kimamula/fizzbuzz') 
undefined
> fizzbuzz(1) 
'1'
> fizzbuzz(2) 
'2'
> fizzbuzz(3) 
'Fizz'
> fizzbuzz(5) 
'Buzz'
> fizzbuzz(15) 
'FizzBuzz'


/** json **/
{
  "engines": {
    "node" : ">=10",
    "yarn": "^1.12.0"
  }
}


/** monorepo/package.json **/
{
  "private": true,
  "workspaces": ["package-a", "package-b"]
}


/** SHELL **/
# package-aã‚’npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦åˆæœŸåŒ–
$ yarn init -y 
# ... ï¼ˆçœç•¥ï¼‰
# rimrafã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
$ yarn add rimraf 
# ... ï¼ˆçœç•¥ï¼‰


/** SHELL **/
# package-bã‚’npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦åˆæœŸåŒ–
$ yarn init -y 
# ... ï¼ˆçœç•¥ï¼‰
# rimrafã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
$ yarn add rimraf 
# ... ï¼ˆçœç•¥ï¼‰


/** monorepo/package-b/package.json **/
{
  "name": "package-b",
  "version": "1.0.0",
  "main": "index.js",
  "license": "MIT",
  "dependencies": {
    "rimraf": "^2.6.3",
    "package-a": "^1.0.0"
  }
}


/** SHELL **/
$ yarn set version berry 


/** yml **/
nodeLinker: node-modules


/** SHELL **/
$ yarn workspaces foreach run build 


/** yml **/
releases:
  my-package@1.0.0: minor


/** json **/
{
  "dependencies": {
    "rimraf": "patch:rimraf@2.0.0#./my-patch.patch",
    "my-local-package": "portal:./pkgs/my-local-package"
  }
}


/** json **/
{
  "scripts": {
    "hello": "echo \"Hello $@\""
  }
}


/** SHELL **/
$ yarn hello World 
# "$@"ã®éƒ¨åˆ†ãŒã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ï¼ˆ"World"ï¼‰ã«ç½®ãæ›ã‚ã‚‹
Hello World


/** SHELL **/
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®greetingã‚’å®Ÿè¡Œï¼ˆã‚¿ã‚¤ãƒ—ãƒŸã‚¹ã—ãŸå ´åˆã¯å¤±æ•—ã™ã‚‹ï¼‰
$ yarn greeting  # or yarn run greeting
# æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®greetingã‚’å®Ÿè¡Œ
$ yarn dlx greeting 
